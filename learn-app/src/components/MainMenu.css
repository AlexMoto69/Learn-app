/* global reset to avoid unexpected body margin/scroll shifts */
*{box-sizing:border-box}
html,body,#root{margin:0;padding:0;overflow-x:hidden;overflow-y:auto;-webkit-font-smoothing:antialiased}

/* Make native scrollbars blend with the header so no grey track shows through */
/* WebKit (Chrome, Edge) */
html::-webkit-scrollbar, body::-webkit-scrollbar{ width:12px; }
html::-webkit-scrollbar-track, body::-webkit-scrollbar-track{ background: rgba(6,8,12,1); }
html::-webkit-scrollbar-thumb, body::-webkit-scrollbar-thumb{ background: linear-gradient(180deg, #243242, #0f1b2a); border-radius:10px; }

/* Firefox */
body{ scrollbar-width: thin; scrollbar-color: #0f1b2a rgba(6,8,12,1); }

/* Main menu styles matching the cyberpunk theme */
.main-root{
  /* inherit login background exactly */
  --header-v: clamp(0.3rem, 1.2vw, 0.9rem); /* header vertical padding */
  --logo-h: clamp(36px, 6vw, 84px); /* logo height used to compute header space */
  --menu-max: 1100px; /* explicit cap for menu width — change this to restrict the bar */
  --menu-h: clamp(64px, 8vw, 84px); /* fixed visual height for the menu bar */
  --icon-size: clamp(30px, 3.4vw, 50px); /* icon wrapper size */
  display:flex;
  width:100%;
  align-items:flex-start; /* align to top */
  justify-content:center;
  /* remove fixed-header spacing because header will be sticky (in-flow) */
  padding-top: 0;
  background: transparent;
}

.main-card{
  background: transparent; /* don't show inner card so it blends */
  border-radius: 14px;
  box-shadow: none;
  border: none;
}

/* learn-app/src/components/MainMenu.css */
.menu-header{
    /* keep header sticky but transparent so the inner bar (.menu-inner) is the visible, restricted menu */
    position: sticky;
    top: 0;
    left: 0;
    right: 0;
    width: 100%;
    box-sizing: border-box;

    display:flex;
    align-items:center;
    justify-content:center;
    padding: 0; /* let .menu-inner control vertical spacing */

    /* make header itself transparent so the centered .menu-inner looks like the bar */
    background: transparent;
    -webkit-backdrop-filter: none;
    backdrop-filter: none;
    box-shadow: none; /* move shadow to .menu-inner */
    z-index: 999;
}

.menu-header::before{
    /* ensure no full-width overlay exists */
    content: "";
    position: absolute;
    left: 0;
    right: 0;
    top: 0;
    bottom: 0;
    background: transparent;
    pointer-events: none;
    z-index: -1;
}

/* Restore .menu-inner to a normal centered container (not fixed). The visible fixed bar will use .restricted-menu instead. */
.menu-inner{
    /* Use a 3-column grid so the icon group is always centered regardless of the logo
       left and right columns act as flexible spacers so the center (icons) stays centered */
    width: 100%;
    max-width: var(--menu-max, 1100px);
    margin: 0 auto;

    display: grid;
    grid-template-columns: 1fr auto 1fr; /* left spacer / center icons / right logo */
    align-items: center;
    gap: clamp(0.5rem, 1.4vw, 1rem);
    padding: var(--header-v) clamp(0.6rem, 2vw, 1.2rem);
    box-sizing: border-box;
 }

/* New approach: fixed, centered restricted menu container. This ensures nothing else can stretch it. */
.restricted-menu{
    position: fixed; /* nudge bar down so oversized center logo is not cut at the top */
    left: 50%;
    transform: translateX(-50%);

    /* shrink-wrap to content but keep a responsive cap */
    width: fit-content; /* make the header size driven by its contents */
    max-width: 96vw; /* fallback cap on small screens */

    display: flex; /* keep flex to allow children alignment; inner layout uses .menu-inner grid */
    align-items: center;
    justify-content: center;
    gap: clamp(0.5rem, 1.4vw, 1rem);
    padding: 0; /* .menu-inner provides internal padding */
    box-sizing: border-box;

    background: rgba(5, 5, 5, 0.99);
    border-radius: 30px;
    box-shadow: 0 6px 20px rgba(0,0,0,0.5);
    z-index: 2000; /* above everything */
    pointer-events: auto;

    height: var(--menu-h); /* fixed height */
    min-height: var(--menu-h);

    overflow: visible; /* allow center logo to extend beyond bar */
}

/* ensure the centered container doesn't animate its size */
.restricted-menu.menu-hidden,
.restricted-menu.menu-visible{
    transition: opacity .12s linear, transform .12s linear; /* minimal transition only */
}

/* Reserve space so content below doesn't hide under the fixed bar */
.main-card{ margin-top: calc(var(--menu-h) + 26px); background: transparent}

/* keep the app logo pinned to the right of the restricted bar */
 .app-logo-wrap{ display:flex; align-items:center; justify-self:end; grid-column:3; }

 /* center the nav group in the middle grid column */
 .menu-nav{ display:flex; gap: clamp(0.25rem, 0.8vw, 0.6rem); align-items:center; background: transparent; justify-self:center; grid-column:2; white-space:nowrap; }

 /* each nav item: inline, centered, fixed height so it cannot increase bar height */
 .nav-item{
     display:inline-flex;
     align-items:center;
     justify-content:center;
     height: 100%; /* fill the menu bar height */
     padding: 0 8px; /* horizontal padding only */
     background: transparent;
     border: none;
     cursor: pointer;
     border-radius: 8px;
     -webkit-tap-highlight-color: transparent;
     flex:0 0 auto;
     position: relative; /* for absolute label */
 }

.nav-icon-wrap{
    width: var(--icon-size);
    height: var(--icon-size);
    display:grid;
    place-items:center;
    transition: transform .18s ease;
    background: none;
    box-shadow: none;
    padding: 0;
}

.nav-icon{
    width: 80%;
    height: 80%;
    display: block;
    object-fit: contain;
    transition: transform .18s ease, filter .18s ease;
    /* By default do not invert — keep original svg colors. If you need to invert dark svgs,
       add the class `invert-icon` to the <img> or .nav-icon to apply the filter. */
}

/* utility to invert / brighten icons when the source SVG is dark-colored */
.invert-icon{ filter: invert(1) brightness(1.05) saturate(1.1); }

/* label is absolutely positioned so it doesn't affect layout */
.nav-label{
    position: absolute;
    left: 50%;
    top: calc(100% + 6px);
    transform: translateX(-50%);
    white-space: nowrap;
    opacity: 0;
    pointer-events: none;
    color: var(--text, #e6eef8);
    font-size: .78rem;
    background: rgba(0,0,0,0.5);
    padding: 6px 8px;
    border-radius: 6px;
    box-shadow: 0 6px 12px rgba(0,0,0,0.35);
    transition: opacity .12s ease, transform .12s ease;
    transform-origin: top center;
    z-index: 2100;
}

.nav-item:hover .nav-label,
.nav-item:focus .nav-label{
    opacity: 1;
    pointer-events: auto;
}

/* hover effects on icon only (won't affect header height) */
.nav-item:hover .nav-icon-wrap{ transform: scale(1.06); }
.nav-item:hover .nav-icon{ transform: scale(1.06); filter: drop-shadow(0 8px 18px rgba(43,215,255,0.06)); }

/* very small screens: make bar full width and slightly taller */
@media (max-width: 520px){
    .restricted-menu{ left: 0; transform: none; width: 100%; max-width: 100%; border-radius: 0; top: 0; padding: 0.4rem; }
    .main-card{ margin-top: calc(var(--menu-h) + 28px); }
}

/* responsive: hide labels on small screens to keep icons-only */
@media (max-width:900px){
    .nav-label{ display:none; }
}

/* small screens: allow horizontal scrolling for the icon group rather than wrapping or expanding */
@media (max-width: 700px){
    .menu-nav{ overflow-x: auto; -webkit-overflow-scrolling: touch; }
}

/* tighten nav icon sizes on small screens so logo has space */
@media (max-width:600px){
    .nav-icon-wrap{ width: clamp(36px, 8vw, 56px); height: clamp(36px,8vw,56px); }
    .app-logo-wrap{ width: clamp(36px, 8vw, 56px); height: clamp(36px,8vw,56px); }
    .menu-inner{ padding: 0 0.6rem; gap: 0.6rem; }
}

@media (max-width:420px){
    .menu-inner{ padding: 0 0.4rem; }
    /* keep logo same as icon-size on small screens too */
    .app-logo{ width: var(--icon-size); height: var(--icon-size); }
}

/* small accessibility tweak: remove default focus outline if you wish */
.nav-item:focus{
    outline: none;
}

/* ensure app logo matches icon size */
.restricted-menu .app-logo,
.app-logo{
  width: clamp(36px, 3.8vw, 60px);
  height: clamp(36px, 3.8vw, 60px);
  object-fit: contain;
  display: block;
}

/* circular center logo in nav */
.nav-item.logo{ padding: 0 8px; pointer-events: none; z-index: 2101 }
.app-logo-circle{
  width: calc(var(--menu-h) + 12px);
  height: calc(var(--menu-h) + 12px);
  border-radius: 999px;
  background: radial-gradient(80% 120% at 50% 50%, #0F2027, #203A43); /* dark navy gradient */
  border: none; /* remove inner border that overlapped the logo */
  outline-offset: 2px; /* keep stroke clearly outside the circle */
  box-shadow: 0 8px 24px rgba(0,0,0,0.5), inset 0 0 14px rgba(255,255,255,0.05);
  position: relative;
  z-index: 2101; /* ensure above bar shadow */
}
.app-logo{ width: 70%; height: 70%; border-radius: 0; object-fit: contain }
/* prevent hover scale on the logo item */
.nav-item.logo .nav-icon-wrap{ transform: none !important }
.nav-item.logo:hover .nav-icon{ transform: none !important; filter: none !important }
.menu-footer{margin-top:12px; display:flex; justify-content:center}
.nav-item.danger{background:#ef4444;color:#fff;border:none}
.nav-item.danger:hover{filter:brightness(1.05)}

/* ensure emoji icon is visually aligned and sized like other icons */
.emoji-icon{ display:inline-grid; place-items:center; width: 1.4em; height: 1.4em; font-size: 1.2rem }
